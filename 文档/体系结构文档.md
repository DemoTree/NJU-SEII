# 软件体系结构文档模板

## 文档修改历史
<table>
<tr>
<td>修改人员
</td>
<td>日期
</td>
<td>修改原因
</td>
<td>版本号
</td>
</tr>
<tr>
<td>金勇成、赵茁羽、蔡明卫、刘晓东
</td>
<td>2019.4.18
</td>
<td>体系结构设计初步模型
</td>
<td>1.0
</td>
</tr>
<tr>
<td>金勇成、赵茁羽、蔡明卫、刘晓东
</td>
<td>2019.4.20
</td>
<td>沟通交流完善修改
</td>
<td>2.0
</td>
</tr>
<tr>
<td>金勇成
</td>
<td>2019.6.18
</td>
<td>整体性完善修改
</td>
<td>3.0
</td>
</tr>
<tr>
<td>金勇成
</td>
<td>2019.6.20
</td>
<td>根据需求整体性完善修改
</td>
<td>3.1
</td>
</tr>
</table>

## 目录

引言

​ 编制目的

​ 词汇表

​ 参考资料

产品视图

逻辑视图

组合视图

​ 开发包图

​ 运行时进程

​ 物理部署

架构设计

​ 模块职责

​ 用户界面层分解

​ 业务逻辑层分解

​ 数据层分解

​ 信息视角



## 引言

### 编制目的
    本报告详细完成对影院管理系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通。 本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。 

### 词汇表
<table>
<tr>
<td>词汇名称
</td>
<td>词汇含义
</td>
<td>备注
</td>
</tr>
<tr>
<td>TMS
</td>
<td>影院管理系统
</td>
<td>

</td>
</tr>
</table>

### 参考资料
    1.：影院管理系统用例文档v1.1
    2.：影院管理系统需求规格说明文档v1.0
    3.：IEEE标准

## 产品概述
    影院管理系统是为了xx影院开发的业务系统，开发的目标是帮助该影院处理日常的重点事物，包括消费者的查询电影详情、标记喜好电影、搜索电影，管理员的上架电影、预售信息统计。通过影院管理系统的应用，期望为xx影院提高管理人员工作效率，提升消费者消费体验，吸引回头客，增加业务额，降低运营成本做支持。



## 逻辑视图
    影院管理系统中，选择了分层体系结构风格，将系统分为 3 层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。展示层包含 GUI 页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方案如下图所示。 


 - 分层体系结构的逻辑视图
 
![](https://i.loli.net/2019/06/20/5d0b83bdb51cd18727.png) 


- 逻辑设计方案

![](https://image-of-group39.oss-cn-hangzhou.aliyuncs.com/%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%E5%9B%BE%E7%89%87/%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88.png)

## 组合视图
### 开发包图
- 影院管理系统的开发包图如下表所示
<table>
<tr>
<td>开发（物理）包</td>
<td>依赖的其他开发包</td>
</tr>
<tr>
<td>mainui</td>
<td>accountui,statisticsui,movielikeui,ticketui,refundnui,vipui,couponui,activityui,scheduleui,movieui,halluivo</td>
</tr>
<tr>
<td>accountui</td>
<td>accountblservice,界面类库包，vo</td>
</tr>
<tr>
<td>accountblservice</td>
<td></td>
</tr>
<tr>
<td>accountsbl</td>
<td>accountinterface,accountDataClient,accountPo</td>
</tr>
<tr>
<td>accountdataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>accountdata</td>
<td>Java RMI, po,databaseutility</td>
</tr>
<tr>
<td>statisticsui</td>
<td>statisticsblservice,界面类库包，vo</td>
</tr>
<tr>
<td>statisticsblservice</td>
<td></td>
</tr>
<tr>
<td>statisticsbl</td>
<td>statisticsblservice,statisticsdataservice,po</td>
</tr>
<tr>
<td>statisticsdataservice</td>
<td>Java RMI, po </td>
</tr>
<tr>
<td>statisticsdata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>movielikeui</td>
<td>movielikeblservice,界面类库包，vo</td>
</tr>
<tr>
<td>movielikeblservice</td>
<td></td>
</tr>
<tr>
<td>movielikebl</td>
<td>movielikeblservice,movielikedataservice,po</td>
</tr>
<tr>
<td>movielikedataservice</td>
<td>Java RMI, po </td>
</tr>
<tr>
<td>movielikedata</td>
<td>Java RMI, po,databaseutility </td>
</tr>
<tr>
<td>ticketui</td>
<td>ticketblservice,界面类库包，vo</td>
</tr>
<tr>
<td>ticketblservice</td>
<td></td>
</tr>
<tr>
<td>ticketbl</td>
<td>ticketblservice,ticketdataservice,po</td>
</tr>
<tr>
<td>ticketdataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>ticketdata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>refundui</td>
<td>refundblservice,界面类库包，vo</td>
</tr>
<tr>
<td>refundblservice</td>
<td></td>
</tr>
<tr>
<td>refundbl</td>
<td>refundblservice,refunddataservice,po,ticketbl</td>
</tr>
<tr>
<td>refunddataservice</td>
<td>Java RMI, po </td>
</tr>
<tr>
<td>refunddata</td>
<td>Java RMI, po, databaseutility</td>
</tr>
<tr>
<td>vipui</td>
<td>vipblservice,界面类库包，vo</td>
</tr>
<tr>
<td>vipblservice</td>
<td></td>
</tr>
<tr>
<td>vipbl</td>
<td>vipblservice,vipdatabaseservice,po,ticketbl,moviebl</td>
</tr>
<tr>
<td>vipdataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>vipdata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>couponui</td>
<td>couponblservice,界面类库包，vo</td>
</tr>
<tr>
<td>couponblservice</td>
<td></td>
</tr>
<tr>
<td>couponbl</td>
<td>couponblservice,coupondatabaseservice,po,ticketbl</td>
</tr>
<tr>
<td>coupondataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>coupondata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>activityui</td>
<td>activityblservice,界面类库包，vo</td>
</tr>
<tr>
<td>activityblservice</td>
<td></td>
</tr>
<tr>
<td>activitybl</td>
<td>activityblservice,activitydatabaseservice,po,ticketbl,vipbl</td>
</tr>
<tr>
<td>activitydataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>activitydata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>scheduleui</td>
<td>scheduleblservice,界面类库包，vo</td>
</tr>
<tr>
<td>scheduleblservice</td>
<td></td>
</tr>
<tr>
<td>schedulebl</td>
<td>scheduleblservice,scheduledatabaseservice,po,ticketbl,moviebl</td>
</tr>
<tr>
<td>scheduledataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>scheduledata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>movieui</td>
<td>movieblservice,界面类库包，vo</td>
</tr>
<tr>
<td>movieblservice</td>
<td></td>
</tr>
<tr>
<td>moviebl</td>
<td>movieblservice,moviedatabaseservice,po,ticketbl</td>
</tr>
<tr>
<td>moviedataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>moviedata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>hallui</td>
<td>hallblservice,界面类库包，vo</td>
</tr>
<tr>
<td>hallblservice</td>
<td></td>
</tr>
<tr>
<td>hallbl</td>
<td>hallblservice,halldatabaseservice,po</td>
</tr>
<tr>
<td>halldataservice</td>
<td>Java RMI, po</td>
</tr>
<tr>
<td>halldata</td>
<td>Java RMI, po, databaseutility </td>
</tr>
<tr>
<td>vo</td>
<td></td>
</tr>
<tr>
<td>po</td>
<td></td>
</tr>
<tr>
<td>utilitybl</td>
<td></td>
</tr>
<tr>
<td>datafactoryservice</td>
<td>Java RMI,po </td>
</tr>
<tr>
<td>界面类库包</td>
<td></td>
</tr>
<tr>
<td>Java RMI</td>
<td></td>
</tr>
<tr>
<td>databaseutility</td>
<td>JDBC</td>
</tr>

</table>

- 影院管理系统客户端开发包图如下图所示
![](https://s2.ax1x.com/2019/06/20/VxMhwR.png) 
- 影院管理系统服务器端开发包图如下图所示
![](https://s2.ax1x.com/2019/06/20/VxM4T1.png)

### 运行时进程

- 在电影院管理系统中，会有多个客户端进程和一个服务器端进程，其进程图下图所示。结合部署图，客户端进程是在客户端机器上运行，服务器端进程
在服务器端机器上运行。
![](https://i.loli.net/2019/04/20/5cbae22ea4031.png)

### 物理部署

- 电影院管理系统中客户端构件是放在客户端机器上，服务器端构件是放在服务
器端机器上。在客户端节点上，还要部署 RMIStub 构件。由于 Java RMI 构件属
于 JDK 1.8 的一部分。所以，在系统 JDK 环境已经设置好的情况下，不需要再独立部署。部署图如下图所示。  

![icon](http://assets.processon.com/chart_image/5ae5be27e4b039625af793c0.png?_=1554259679134)

## 架构设计

### 模块职责

- 模块视图
 - 客户端模块视图
![](https://s2.ax1x.com/2019/06/20/VxQV7n.png)
 
 
 - 服务器模块视图

![](https://i.loli.net/2019/04/20/5cbae23b4de40.png)

- 各层职责
    - 客户端各层的职责  
<table>
<tr>
<td>层
</td>
<td>职责
</td>
</tr>
<tr>
<td>启动模块
</td>
<td>负责初始化网络通信机制，启动用户界面 
</td>
</tr>
<tr>
<td>用户界面层
</td>
<td>基于窗口的影院管理客户端用户界面 
</td>
</tr>
<tr>
<td>控制层
</td>
<td>响应用户界面的输入、调用业务逻辑层方法 
</td>
</tr>
<tr>
<td>业务逻辑层 
</td>
<td>进行业务处理逻辑 
</td>
</tr>
<tr>
<td>客户端网络模块 
</td>
<td>利用 Java RMI 机制查找 RMI 服务 
</td>
</tr>
</table>

    - 服务器各层的职责  
<table>
<tr>
<td>层
</td>
<td>职责
</td>
</tr>
<tr>
<td>启动模块
</td>
<td>负责初始化网络通信机制，启动用户界面 
</td>
</tr>
<tr>
<td>数据层
</td>
<td>负责数据的持久化和数据访问的接口
</td>
</tr>
<tr>
<td>服务器网络模块
</td>
<td>利用Java RMI机制开启RMI服务，注册RMI服务 
</td>
</tr>
</table>

- 层之间调用接口 
<table>
<tr>
<td>接口
</td>
<td>服务调用方
</td>
<td>服务提供方
</td>
</tr>
<tr>
<td>
Accountblservice<br>
Ticketblservice<br>
Movieblservice<br>
MovieLikeblservice<br>
Statisticsblservice<br>
VIPblservice<br>
Refundblservice<br>
Hallblservice<br>
Scheduleblservice<br>
Couponblservice<br>
Activityblservice<br>
</td>
<td>客户端展示层
</td>
<td>客户端业务逻辑层
</td>
</tr>
<tr>
<td>
Accountdataservice<br>
Ticketdataservice<br>
Moviedataservice<br>
MovieLikedataservice<br>
Statisticsdataservice<br>
VIPdataservice<br>
Refunddataservice<br>
Halldataservice<br>
Scheduledataservice<br>
Coupondataservice<br>
Activitydataservice<br>
DatabaseFactory<br>
</td>
<td>客户端业务逻辑层
</td>
<td>服务器端数据层
</td>
</tr>
</table>


### 用户界面层分解
根据需求，系统存在 18 个用户界面：用户首页、用户电影列表页、用户电影详情、用户消费记录界面、用户会员卡界面、用户电影票界面、用户充值记录界面、用户账号以及角色管理界面、管理员账户及角色信息，管理员电影管理界面、管理员统计数据界面、管理员电影详情界面、管理员排片界面、管理员活动管理界面、管理员退票策略界面、管理员影院管理界面、管理员会员策略管理界面、管理员会员赠送优惠券界面。界面关系见下图
![](https://s2.ax1x.com/2019/06/20/Vx3O8P.png)

#### 职责
下图为用户界面层模块的职责
![](https://i.loli.net/2019/04/20/5cbae64633a78.png)

- 类图

![](https://i.loli.net/2019/04/20/5cbae22aafb47.png)

- 接口规范

![](https://i.loli.net/2019/04/20/5cbae2408e0d3.png)

- 需要的服务接口

![](https://i.loli.net/2019/04/20/5cbae223a27b3.png)

### 业务逻辑层分解

#### 职责

| 模块 | 职责 | 
| :------| :---- | 
| accountbl | 负责实现账号界面所需要的服务 |
| statisticsbl | 负责实现电影管理界面的统计信息所需要的服务 | 
| movielikebl | 负责实现标记喜好电影界面所需要的服务 | 
| ticketbl | 负责实现售票界面所需要的服务 | 
| refundbl | 负责实现退票策略界面所需要的服务 | 
| vipbl | 负责实现会员管理界面所需要的服务 | 
| couponbl | 负责实现优惠券管理界面所需要的服务 |
| activitybl | 负责实现优惠活动管理界面所需要的服务 |
| schedulebl | 负责实现排片管理界面所需要的服务 |
| hallbl | 负责实现影厅管理界面所需要的服务 |
| moviebl | 负责实现上架电影管理界面所需要的服务 |

#### 接口规范
##### 5.3.2.1 accountbl模块的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Account.add</td>
    <td>语法</td>
    <td>public AccountMessage add(AccountVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>该账户原先不存在，输入信息符合规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统创建新账户并持久化增加该账户的相关信息</td>
  </tr>
  <tr>
    <td rowspan="3">Account.update</td>
    <td>语法</td>
    <td>public AccountMessage update(AccountVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>账户信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新该账户数据</td>
  </tr>
  <tr>
    <td rowspan="3">Account.show</td>
    <td>语法</td>
    <td>public ArrayList<AccountVO> show() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有账户信息</td>
  </tr>
  <tr>
    <td rowspan="3">Account.findByName</td>
    <td>语法</td>
    <td>public ArrayList&lt;AccountVO> findByName(String name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户名输入符合规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回相应用户名的用户信息</td>
  </tr>
  <tr>
    <td rowspan="3">Account.login</td>
    <td>语法</td>
    <td>public AccountType login(String id, String password) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户输入有效的账号和密码</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回登陆的账户类型</td>
  </tr>
  <tr>
    <td rowspan="3">Account.logout</td>
    <td>语法</td>
    <td>public ArrayList&lt;AccountVO vo> logout() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>无</td>
  </tr>

</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getAccountData()</td>
    <td colspan="2">得到 Account 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>AccountDataService.insert(AccountPO po)</td>
    <td colspan="2">插入 AccountPO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>AccountDataService.delete(String AccountNum)</td>
    <td colspan="2">删除 AccountPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>AccountDataService.update(AccountPO po)</td>
    <td colspan="2">更新 AccountPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>AccountDataService.show()</td>
    <td colspan="2">得到所有 AccountPO 持久化对象 </td>
  </tr>
  <tr>
    <td>AccountDataService.findByName(String name) </td>
    <td colspan="2">根据姓名的到对应的 AccountPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>

##### 5.3.2.2 moviebl的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Movie.release</td>
    <td>语法</td>
    <td>public MovieMessage release(MovieVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>输入的电影信息符合规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统上架电影</td>
  </tr>
  <tr>
    <td rowspan="3">Movie.count</td>
    <td>语法</td>
    <td>public MovieVO count()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有电影截止到当前系统时间为止的想看人数柱状图</td>
  </tr>
  <tr>
    <td rowspan="3">Movie.countByName</td>
    <td>语法</td>
    <td>public MovieVO countByName(String name)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回该电影自发布时间到当前日期为止每天想看人数的变化折线图</td>
  </tr>
  <tr>
    <td rowspan="3">Movie.mark</td>
    <td>语法</td>
    <td>public MovieMessage mark(MovieVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新此电影的标记情况，若无标记则对当前电影进行标记，若已标记则取消标记</td>
  </tr>
  <tr>
    <td rowspan="3">Movie.findByKeyword</td>
    <td>语法</td>
    <td>public MovieVO findByKeyword(String keyword)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>电影关键词输入合法</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统根据输入的关键词查找该电影，并返回电影</td>
  </tr>
  <tr>
    <td rowspan="3">Movie.list</td>
    <td>语法</td>
    <td>public ArrayList&lt;MovieVO> list()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回电影列表</td>
  </tr>
  <tr>
    <td rowspan="3">Movie.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;MovieVO> show()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回电影所有详细信息</td>
  </tr>

</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getMovieData()</td>
    <td colspan="2">得到 Film 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>MovieDataService.insert(MoviePO po)</td>
    <td colspan="2">插入 MoviePO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>MovieDataService.delete(String MovieNum)</td>
    <td colspan="2">删除 MoviePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>MovieDataService.update(MoviePO po)</td>
    <td colspan="2">更新 MoviePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>MovieDataService.show()</td>
    <td colspan="2">得到所有 MoviePO 持久化对象 </td>
  </tr>
  <tr>
    <td>MovieDataService.findByKeyword(String keyword) </td>
    <td colspan="2">根据关键词查找 MoviePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>

##### 5.3.2.3 schedulebl模块接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.add</td>
    <td>语法</td>
    <td>public ResultMessage add(ScheduleVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>排片信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化存储电影排片信息</td>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.delete</td>
    <td>语法</td>
    <td>public ResultMessage delete(String date,String roomId)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化删除特定电影排片信息</td>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.update</td>
    <td>语法</td>
    <td>public ResultMessage update(ScheduleVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>排片信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新特定电影排片信息</td>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.findByDateAndView</td>
    <td>语法</td>
    <td>public ArrayList&ltScheduleVO> findByDateAndView(String date,String view)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>日期与视角符合输入规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统根据输入的日期和视角（默认为全部影厅），查找电影排片信息并返回</td>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.findByRoomIdAndView</td>
    <td>语法</td>
    <td>public ArrayList&ltArrangementVO> findByRoomIdAndView(String roomId,String view)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>影厅ID和视角符合输入规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统根据输入的影厅ID和视角（默认日期当天），查找电影排片信息并返回</td>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.findByRoomIdAndDateAndView</td>
    <td>语法</td>
    <td>public ArrayList&ltScheduleVO> findByRoomIdAndDateAndView(String roomId,String date,String view)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>影厅ID，日期和视角符合输入规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统根据输入的影厅ID，日期和视角，查找电影排片信息并返回</td>
  </tr>
  <tr>
    <td rowspan="3">Schedulebl.show</td>
    <td>语法</td>
    <td>public ArrayList&ltScheduleVO> show()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有的电影排片信息</td>
  </tr>
    <tr>
    <td rowspan="3">Schedulebl.addVisibleTime</td>
    <td>语法</td>
    <td>public ResultMessage add(String visibleTime)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>输入的排片信息可见时间合法</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化存储排片信息可见时间</td>
  </tr>
    <tr>
    <td rowspan="3">Schedulebl.updateVisibleTime</td>
    <td>语法</td>
    <td>public ResultMessage update(String visibleTime)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>更新的排片信息可见时间合法</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新排片信息可见时间</td>
  </tr>
    <tr>
    <td rowspan="3">Schedulebl.showData</td>
    <td>语法</td>
    <td>public ArrayList&ltScheduleVO> showData(String type)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>输入的想查看的统计数据类型符合输入规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统根据输入的数据类型返回相关统计数据</td>
  </tr>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getScheduleData()</td>
    <td colspan="2">得到 Arrangement 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>ScheduleDataService.insert(SchedulePO po)</td>
    <td colspan="2">插入ArrangementPO单一持久化对象 </td>
  </tr>  
  <tr>
    <td>ScheduleDataService.delete(String date,String roomId)</td>
    <td colspan="2">删除ArrangementPO单一持久化对象 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.update(SchedulePO po)</td>
    <td colspan="2">更新ArrangementPO单一持久化对象 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.findByDateAndView(String date,String view)</td>
    <td colspan="2">根据日期和视角查找单一或多个ArrangementPO持久化对象 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.findByRoomIdAndView(String roomId,String view) </td>
    <td colspan="2">根据影厅ID和视角查找单一或多个ArrangementPO持久化对象 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.findByRoomIdAndDateAndView(String roomId,String date,String view) </td>
    <td colspan="2">根据影厅ID、日期和视角查找单一或多个ArrangementPO持久化对象</td>
  </tr>
  <tr>
    <td>ScheduleDataService.show()</td>
    <td colspan="2">得到所有的ArrangementPO持久化对象 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.insertVisibleTime(String visibleTime)</td>
    <td colspan="2">添加ArrangementPO对象的VisibleTime属性 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.updateVisibleTime(String visibleTime) </td>
    <td colspan="2">更新ArrangementPO对象的VisibleTime属性 </td>
  </tr>
  <tr>
    <td>ScheduleDataService.findByType(String type) </td>
    <td colspan="2">得到对应类型的统计数据对象</td>
  </tr>
</table>

##### 5.3.2.4 Statistic模块接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Statistic.findByType</td>
    <td>语法</td>
    <td>public ArrayList&ltStatisticVO> findByType(String type)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>输入的type符合输入规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统根据输入的数据类型返回相应的统计数据对象</td>
  </tr>
  <tr>
    <td rowspan="3">Statistic.show</td>
    <td>语法</td>
    <td>public ArrayList&ltStatisticVO> show()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有的电影统计数据</td>
  </tr>

<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getStatisticData()</td>
    <td colspan="2">得到 Statistic 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>StatisticDataService.findByType(String type)</td>
    <td colspan="2">根据数据类型查找StatisticPO单一持久化对象 </td>
  </tr>  
  <tr>
    <td>StatisticDataService.show()</td>
    <td colspan="2">得到所有的StatisticPO持久化对象 </td>
  </tr>
</table>

##### 5.3.2.5 Ticketbl的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Ticket.chooseseat</td>
    <td>语法</td>
    <td>public Sale chooseseat()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户选定座位并确认</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统锁定座位，返回订单信息</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.orderconfirm</td>
    <td>语法</td>
    <td>public Ticket orderconfirm(OrderVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户确认订单</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回选择支付方式界面</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.ordercancel</td>
    <td>语法</td>
    <td>public Ticket ordercancel(OrderVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户取消订单</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统解锁座位信息，退回至选座阶段</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.orderputoff</td>
    <td>语法</td>
    <td>public Ticket orderputoff(OrderVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户选择稍后支付或支付时异常退出</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统保留订单待支付15分钟，超时未支付则自动取消订单</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.thirdpartypay</td>
    <td>语法</td>
    <td>public Ticket thirdpartytpay()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户选择第三方支付</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回跳转第三方支付界面</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.memberpay</td>
    <td>语法</td>
    <td>public Ticket memberpay()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户选择会员卡支付</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回跳转会员卡支付界面</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.showtickets</td>
    <td>语法</td>
    <td>public Ticket showtickets()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回用户已购买的电影票</td>
  </tr>
  <tr>
    <td rowspan="3">Ticket.showconsumption</td>
    <td>语法</td>
    <td>public Ticket showconsumption()</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回用户消费历史记录</td>
  </tr>
  
  
</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getTicketData()</td>
    <td colspan="2">得到 Sale 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>TicketDataService.insert(TicketPO po)</td>
    <td colspan="2">插入 SalePO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>TicketDataService.delete(String SaleNum)</td>
    <td colspan="2">删除 SalePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>TicketDataService.update(TicketPO po)</td>
    <td colspan="2">更新 SalerPO 单一持久化对象 </td>
  </tr>
 <tr>
    <td>TicketDataService.findbyTicketNum(String TicketNum)</td>
    <td colspan="2">根据订单编号查找 SalePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>

##### 5.3.2.6 vipbl的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">VIPbl.add</td>
    <td>语法</td>
    <td>public VIPblMessage add(VIPblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>该会员原先不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统创建新会员并持久化增加该会员的相关信息</td>
  </tr>
  <tr>
    <td rowspan="3">VIPbl.update</td>
    <td>语法</td>
    <td>public VIPblMessage update(VIPblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>会员信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新该会员数据</td>
  </tr>
  <tr>
    <td rowspan="3">VIPbl.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;VIPblVO> show() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有会员信息</td>
  </tr>
  <tr>
    <td rowspan="3">VIPbl.findByName</td>
    <td>语法</td>
    <td>public ArrayList&lt;VIPblVO> findByName(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>会员名输入符合规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回相应会员的信息</td>
  </tr>
  <tr>
    <td rowspan="3">VIPbl.delete</td>
    <td>语法</td>
    <td>public VIPblMessage delete(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化删除该会员动数据</td>
  </tr>  
  <tr>
    <td rowspan="3">VIPbl.balanceEnquiry</td>
    <td>语法</td>
    <td>public VIPblMessage balanceEnquiry() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户已成为会员</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回会员卡余额信息</td>
  </tr>  <tr>
    <td rowspan="3">VIPbl.charge</td>
    <td>语法</td>
    <td>public VIPblMessage charge() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户已成为会员</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回跳转充值界面</td>
  </tr>

</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getVIPData()</td>
    <td colspan="2">得到 VIP 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>VIPDataService.insert(VIPPO po)</td>
    <td colspan="2">插入 VIPPO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>VIPDataService.delete(String Name)</td>
    <td colspan="2">删除 VIPPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>VIPDataService.update(MemberPO po)</td>
    <td colspan="2">更新 VIPPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>VIPDataService.show()</td>
    <td colspan="2">得到所有 VIPPO 持久化对象 </td>
  </tr>
  <tr>
    <td>VIPDataService.findByName(String Name) </td>
    <td colspan="2">根据名称得到对应的 VIPPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>
##### 5.3.2.7 Refundbl的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Refundbl.add</td>
    <td>语法</td>
    <td>public RefundblMessage add(RefundblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>该退票策略原先不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统创建新退票策略并持久化增加该策略的相关信息</td>
  </tr>
  <tr>
    <td rowspan="3">Refundbl.update</td>
    <td>语法</td>
    <td>public RefundblMessage update(RefundblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>退票策略信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新该策略数据</td>
  </tr>
  <tr>
    <td rowspan="3">Refundbl.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;RefundblVO> show() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有退票策略信息</td>
  </tr>
  <tr>
    <td rowspan="3">Refundbl.findByName</td>
    <td>语法</td>
    <td>public ArrayList&lt;RefundblVO> findByName(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>退票策略信息输入符合规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回相应退票策略的信息</td>
  </tr>
  <tr>
    <td rowspan="3">Refundbl.delete</td>
    <td>语法</td>
    <td>public RefundblMessage delete(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化删除该退票策略数据</td>
  </tr>  
  <tr>
    <td rowspan="3">Refundbl.usersRefund</td>
    <td>语法</td>
    <td>public RefundblMessage usersRefund() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>用户订单已支付但未出票</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据退票策略进行在线退票</td>
  </tr>  

</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getRefundData()</td>
    <td colspan="2">得到 Refundment 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>RefundDataService.insert(RefundPO po)</td>
    <td colspan="2">插入 RefundPO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>RefundDataService.delete(String Name)</td>
    <td colspan="2">删除 RefundPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>RefundDataService.update(RefundPO po)</td>
    <td colspan="2">更新 RefundPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>RefundDataService.show()</td>
    <td colspan="2">得到所有 RefundPO 持久化对象 </td>
  </tr>
  <tr>
    <td>RefundDataService.findByName(String Name) </td>
    <td colspan="2">根据名称得到对应的 RefundPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>
##### 5.3.2.8 Hallbl的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">Hallbl.add</td>
    <td>语法</td>
    <td>public HallblMessage add(HallblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>该影院信息原先不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统创建新影院信息并持久化增加该影院的相关信息</td>
  </tr>
  <tr>
    <td rowspan="3">Hallbl.update</td>
    <td>语法</td>
    <td>public HallblMessage update(HallblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>影院信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新该影院数据</td>
  </tr>
  <tr>
    <td rowspan="3">Hallbl.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;HallblVO> show() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有影院信息</td>
  </tr>
  <tr>
    <td rowspan="3">Hallbl.findByName</td>
    <td>语法</td>
    <td>public ArrayList&lt;HallblVO> findByName(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>影院信息输入符合规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回相应影院的信息</td>
  </tr>
  <tr>
    <td rowspan="3">Hallbl.delete</td>
    <td>语法</td>
    <td>public HallblMessage delete(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化删除该影院数据</td>
  </tr>  
 
</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getHallData()</td>
    <td colspan="2">得到 Hall 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>HallDataService.insert(HallPO po)</td>
    <td colspan="2">插入 HallPO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>HallDataService.delete(String Name)</td>
    <td colspan="2">删除 HallPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>HallDataService.update(HallPO po)</td>
    <td colspan="2">更新 HallPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>HallDataService.show()</td>
    <td colspan="2">得到所有 HallPO 持久化对象 </td>
  </tr>
  <tr>
    <td>HallDataService.findByName(String Name) </td>
    <td colspan="2">根据名称得到对应的 HallPO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>
##### 5.3.2.9 MovieLikebl的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">MovieLikebl.add</td>
    <td>语法</td>
    <td>public MovieLikeblMessage add(MovieLikeblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>电影未被标记喜好</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统创建电影喜好信息并持久化增加该角色的相关信息</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikebl.update</td>
    <td>语法</td>
    <td>public MovieLikeblMessage update(MovieLikeblVO vo)</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>电影喜好信息符合输入规则</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化更新该电影喜好数据</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikebl.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;MovieLikeblVO> show() </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有电影喜好信息</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikebl.findByName</td>
    <td>语法</td>
    <td>public ArrayList&lt;MovieLikeblVO> findByName(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>电影喜好信息输入符合规范</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回相应电影喜好的信息</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikebl.delete</td>
    <td>语法</td>
    <td>public RoleblMessage delete(String Name) </td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统持久化删除该电影喜好数据</td>
  </tr>  
 
</table>
<table>
  <tr>
    <th colspan="3">需要的服务（需接口）</th>
  </tr>
  <tr>
    <td>DataFactory.getMovieLikeData()</td>
    <td colspan="2">得到 Role 数据的服务的引用 </td>
  </tr> 
  <tr>
    <td>MovieLikeDataService.insert(MovieLikePO po)</td>
    <td colspan="2">插入 MovieLikePO 单一持久化对象 </td>
  </tr>  
  <tr>
    <td>MovieLikeDataService.delete(String Name)</td>
    <td colspan="2">删除 MovieLikePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>MovieLikeDataService.update(RolePO po)</td>
    <td colspan="2">更新 MovieLikePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>MovieLikeDataService.show()</td>
    <td colspan="2">得到所有 MovieLikePO 持久化对象 </td>
  </tr>
  <tr>
    <td>MovieLikeDataService.findByName(String Name) </td>
    <td colspan="2">根据名称得到对应的 MovieLikePO 单一持久化对象 </td>
  </tr>
  <tr>
    <td>LogBLImpl.add(LogVO vo) </td>
    <td colspan="2">系统增加系统日志</td>
  </tr>
</table>
### 数据层分解

#### 职责
<table>
  <tr>
     <td>模块</td>
     <td>职责</td>
  </tr>
  <tr>
     <td>AccountDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 AccountPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr>
 <tr>
     <td>MovieDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 MoviePO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>ScheduleDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 SchedulePO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>StatisticDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 StatisticPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>ActivityDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 ActivityPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>TicketDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 TicketPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>VIPDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 VIPPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>Refund=DataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 RefundPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>HallDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 HallaPO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>MovieLikeDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 MovieLikePO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr><tr>
     <td>CouponLikeDataService</td>
     <td>基于序列化文件的持久化数据的接口，提供 CouponLikePO 的集体载入、集体保存、增、删、改、查服务 </td>
  </tr>

</table>

#### 接口规范
##### 5.4.2.1 数据层模块（AccountrDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.insert</td>
    <td>语法</td>
    <td>public void insert(AccountPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">AccountrDataService.delete</td>
    <td>语法</td>
    <td>public void delete(AccountrPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">AccountrDataService.update</td>
    <td>语法</td>
    <td>public void update(AccountPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.findByName</td>
    <td>语法</td>
    <td>public AccountPO findByName(String name) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据名称进行查找返回UserPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">Account.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;AccountPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的AccountPO记录</td>
  </tr>
</table>

##### 5.4.2.2 数据层模块（MovieDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.insert</td>
    <td>语法</td>
    <td>public void insert(MoviePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.delete</td>
    <td>语法</td>
    <td>public void delete(MoviePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.update</td>
    <td>语法</td>
    <td>public void update(MoviePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.findByKeyword</td>
    <td>语法</td>
    <td>public MoviePO findByKeyword(String keyword) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据关键字进行查找返回FilmPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;MoviePO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的MoviePO记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.insertCountChart</td>
    <td>语法</td>
    <td>public void insert(CountChartPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个CountChartPO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">MovieDataService.insertCountChartByName</td>
    <td>语法</td>
    <td>public void insert(CountChartByNamePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个CountChartByNamePO持久化对象</td>
  </tr>
</table>

##### 5.4.2.3 数据层模块(ScheduleDataService)的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.insert</td>
    <td>语法</td>
    <td>public void insert(SchedulePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中添加一个SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.delete</td>
    <td>语法</td>
    <td>public void delete(SchedulePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.update</td>
    <td>语法</td>
    <td>public void update(SchedulePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>数据库中存在同样编号的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.findByDateAndView</td>
    <td>语法</td>
    <td>public ArrayList&ltSchedulePO> findByDateAndView(String date,String view) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回一个或多个SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.findByRoomIdAndView</td>
    <td>语法</td>
    <td>public ArrayList&ltSchedulePO> findByRoomIdAndView(String roomId,String view) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回一个或多个SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.findByRoomIdAndDateAndView</td>
    <td>语法</td>
    <td>public ArrayList&ltSchedulePO> findByRoomIdAndDateAndView(String roomId,String date,String view) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回一个或多个SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ArrangementDataService.show</td>
    <td>语法</td>
    <td>public ArrayList&ltSchedulePO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有的SchedulePO持久化对象</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.insertVisibleTime</td>
    <td>语法</td>
    <td>public void insert(String visibleTime) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中添加所有SchedulePO对象的可见时间属性</td>
  </tr>
  <tr>
    <td rowspan="3">ScheduleDataService.updateVisibleTime</td>
    <td>语法</td>
    <td>public void update(String visibleTime) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新所有SchedulePO对象的可见时间属性</td>
  </tr>
</table>

##### 5.4.2.4 数据层模块（StatisticDataService）的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">StatisticDataService.findByType</td>
    <td>语法</td>
    <td>public ArrayList&ltStatisticPO> findByType(String type) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回对应类型的统计数据PO对象</td>
  </tr>
  <tr>
    <td rowspan="3">StatisticDataService.show</td>
    <td>语法</td>
    <td>public ArrayList&ltStatisticPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>系统返回所有的统计数据PO对象</td>
  </tr>
</table>
#####  5.4.2.5 数据层模块（ActivityDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">ActivityDataService.insert</td>
    <td>语法</td>
    <td>public void insert(ActivityPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">ActivityDataService.delete</td>
    <td>语法</td>
    <td>public void delete(ActivityPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">ActivityDataService.update</td>
    <td>语法</td>
    <td>public void update(ActivityPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样编号的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">ActivityDataService.findByActivityNum</td>
    <td>语法</td>
    <td>public ActivityPO findByActivityNum(String ActivityNum) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据编号进行查找返回ActivityPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">Activity.show</td>
    <td>语法</td>
    <td>public ArrayList<ActivityPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的ActivityPO记录</td>
  </tr>
  <tr>
    <td rowspan="3">Activity.present</td>
    <td>语法</td>
    <td>public presentActivityTickets() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>用户获得优惠券</td>
  </tr>
</table>
#####  5.4.2.6 数据层模块（TicketDataService）的接口规范

<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">TicketDataService.insert</td>
    <td>语法</td>
    <td>public void insert(TicketPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">TicketDataService.delete</td>
    <td>语法</td>
    <td>public void delete(TicketPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">TicketDataService.update</td>
    <td>语法</td>
    <td>public void update(TicketPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样编号的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">TicketDataService.findBySaleNum</td>
    <td>语法</td>
    <td>public TicketPO findBySaleNum(String SaleNum) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据订单编号进行查找返回TicketPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">TicketDataService.show</td>
    <td>语法</td>
    <td>public ArrayList<SalePO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的TicketPO记录</td>
  </tr>
  <tr>
    <td rowspan="3">TicketDataService.showTickets</td>
    <td>语法</td>
    <td>public ArrayList<TicketPO> showTickets() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回用户购买的电影票信息</td>
  </tr>
<tr>
    <td rowspan="3">TicketDataService.showConsumption</td>
    <td>语法</td>
    <td>public ArrayList<TicketPO> showConsumption() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回用户历史消费记录信息</td>
  </tr>

</table>
#####  5.4.2.7 数据层模块（VIPDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">VIPDataService.insert</td>
    <td>语法</td>
    <td>public void insert(VIPPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">VIPDataService.delete</td>
    <td>语法</td>
    <td>public void delete(VIPPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">VIPDataService.update</td>
    <td>语法</td>
    <td>public void update(VIPPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">VIPDataService.findByName</td>
    <td>语法</td>
    <td>public VIPPO findByName(String Name) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据ID进行查找返回VIPPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">VIPDataService.show</td>
    <td>语法</td>
    <td>public ArrayList<VIPPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的VIPPO记录</td>
  </tr>
  <tr>
    <td rowspan="3">VIPDataService.showBalance</td>
    <td>语法</td>
    <td>public ArrayList<VIPPO> showBalance() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回用户会员卡余额和会员信息</td>
  </tr>
 <tr>
    <td rowspan="3">VIPDataService.showCharge</td>
    <td>语法</td>
    <td>public ArrayList<VIPPO> showCharge() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回用户会员卡充值历史记录信息</td>
  </tr>

</table>
#####  5.4.2.8 数据层模块（RefundDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">RefundmentDataService.insert</td>
    <td>语法</td>
    <td>public void insert(RefundmentPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">RefundmentDataService.delete</td>
    <td>语法</td>
    <td>public void delete(RefundmentPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">RefundmentDataService.update</td>
    <td>语法</td>
    <td>public void update(RefundmentPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">RefundmentDataService.findByName</td>
    <td>语法</td>
    <td>public RefundmentPO findByName(String Name) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据ID进行查找返回RefundmentPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">RefundmentDataService.show</td>
    <td>语法</td>
    <td>public ArrayList<RefundmentPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的RefundmentPO记录</td>
  </tr>
  <tr>
    <td rowspan="3">RefundmentDataService.Refundment</td>
    <td>语法</td>
    <td>public UsersRefundment() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>订单已支付并未出票</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>用户根据退票策略在线退票</td>
  </tr>
</table>
#####  5.4.2.9 数据层模块（HallDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">HallDataService.insert</td>
    <td>语法</td>
    <td>public void insert(CinemaPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">HallDataService.delete</td>
    <td>语法</td>
    <td>public void delete(HallPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">HallDataService.update</td>
    <td>语法</td>
    <td>public void update(HallPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">HallDataService.findByName</td>
    <td>语法</td>
    <td>public HallPO findByName(String Name) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据ID进行查找返回CinemaPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">HallDataService.show</td>
    <td>语法</td>
    <td>public ArrayList<HallPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的HallPO记录</td>
  </tr>
</table>
#####  5.4.2.10 数据层模块（MovieLikeDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">MovieLikeDataService.insert</td>
    <td>语法</td>
    <td>public void insert(MovieLikePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikeDataService.delete</td>
    <td>语法</td>
    <td>public void delete(MovieLikePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikeDataService.update</td>
    <td>语法</td>
    <td>public void update(MovieLikePO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikeDataService.findByName</td>
    <td>语法</td>
    <td>public MovieLikePO findByName(String Name) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据ID进行查找返回MovieLikePO结果</td>
  </tr>
  <tr>
    <td rowspan="3">MovieLikeDataService.show</td>
    <td>语法</td>
    <td>public ArrayList<MovieLikePO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的MovieLikePO记录</td>
  </tr>
</table>
#####  5.4.2.11 数据层模块（CouponDataService）的接口规范
<table>
  <tr>
    <th colspan="3">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">CouponDataService.insert</td>
    <td>语法</td>
    <td>public void insert(CouponPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>同样编号的po在数据库中不存在</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">CouponDataService.delete</td>
    <td>语法</td>
    <td>public void delete(CouponPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中删除一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">CouponDataService.update</td>
    <td>语法</td>
    <td>public void update(CouponPO po) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的po</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中更新一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">CouponDataService.findByName</td>
    <td>语法</td>
    <td>public MovieLikePO findByName(String Name) throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>根据ID进行查找返回CouponPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">CouponDataService.show</td>
    <td>语法</td>
    <td>public ArrayList<CouponPO> show() throws RemoteException</td>
  </tr>
  <tr>
    <td>前置条件</td>
    <td>无</td>
  </tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的CouponPO记录</td>
  </tr>
</table>


### 信息视角

数据持久化对象

 - 系统的 PO 类是对应的相关的实体类。系统主要的 PO 类如下所示： 
  - AccountPo类包含用户的用户名，密码属性
  - MoviePo类包含电影的编号，售价，上映日期，导演，想看人数，主演，简介等属性
  - VIPPo类包含会员的编号，姓名，生日，性别，电话，积分等属性
  - TicketPo类保存销售时的数据类，包含编号，会员编号，电影编号，总价，折扣，客户支付金额等属性
  - MovieLike类包含标记喜好电影等功能
  - SchedulePo保存排片日期，时间段，电影编号等信息
  - ActivityPo保存优惠活动时间区间，拥有的优惠券，优惠券有效使用期，优惠金额，参与条件等信息
  - RefundPo保存退票策略，退票条件，折算方式等信息
  - HallPo保存影厅名称、座位信息、大/中/小等信息
  - StatisticsPo负责数据管理功能
  - Coupon负责优惠券功能
  
   持久化对象如UserPo的定义如下图
![](https://i.loli.net/2019/04/20/5cbaea21879d0.png)